# AdPlatformService

##  Описание

**AdPlatformService** — это RESTful веб-сервис на платформе ASP.NET Core, предназначенный для хранения и поиска рекламных площадок по заданным географическим локациям. Сервис позволяет загружать список рекламных площадок с привязкой к локациям и выполнять быстрый поиск по вложенным регионам.

---

## Функциональные возможности

- Загрузка рекламных площадок из текстового файла.
- Поиск площадок, действующих в заданной локации, с учётом вложенности (например, `/ru/svrd/ekb` вложена в `/ru/svrd`).
- Высокая скорость поиска за счёт хранения данных в оперативной памяти.
- Простая и понятная архитектура: контроллеры, сервисы, модели.
- Валидация данных и защита от некорректного ввода.
- Юнит-тесты с использованием xUnit.

---

##  Формат входных данных

Каждая строка файла должна содержать:

<Название площадки>:<локация1>,<локация2>,...

Пример:

Яндекс.Директ:/ru
Ревдинский рабочий:/ru/svrd/revda,/ru/svrd/pervik
Газета уральских москвичей:/ru/msk,/ru/permobl,/ru/chelobl
Крутая реклама:/ru/svrd


---

## Запуск проекта

### Требования:
- .NET SDK 6.0 или новее
- Rider, Visual Studio или VS Code

### Сборка и запуск:

1. Клонируйте репозиторий:

```
https://github.com/nasimkrut/AdPlatformService
```
2. Сборка проекта: 
```
dotnet build
dotnet run --project AdPlatformService
```

## API
### Post
```
/api/platforms/upload
```
Загружает текстовый файл с данными.

Формат: multipart/form-data

Поле: file — текстовый файл с площадками и локациями

Ответы:

200 OK — загрузка успешна

400 Bad Request — файл отсутствует или некорректный
### Get
```
/api/platforms/search?location=/ru/svrd/revda
```
Возвращает список рекламных площадок, действующих в заданной локации или родительских локациях (по иерархии).

Пример ответа:

[
"Яндекс.Директ",
"Ревдинский рабочий",
"Крутая реклама"
]

## Тестирование

В проекте AdPlatformService.Tests реализованы модульные тесты с использованием xUnit.

```
dotnet test
```
